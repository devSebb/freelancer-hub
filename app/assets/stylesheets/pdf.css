/* ============================================================
   PDF Base Styles — Editorial Print System
   ============================================================ */

/* Font imports for Chromium/Grover rendering reliability */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,400;0,8..60,600;0,8..60,700;1,8..60,400;1,8..60,700&display=swap');

/* ---- Design Tokens ---- */
:root {
  /* Colors — grayscale only */
  --color-primary: #000;
  --color-heading: #222;
  --color-body: #555;
  --color-meta: #999;
  --divider-light: rgba(0, 0, 0, 0.08);
  --divider-medium: rgba(0, 0, 0, 0.15);

  /* Spacing rhythm (8pt base) */
  --space-1: 8px;
  --space-2: 16px;
  --space-3: 24px;
  --space-4: 40px;
  --space-5: 64px;
  --space-6: 96px;

  /* Deterministic type scale */
  --font-title: 28px;
  --font-doc-label: 20px;
  --font-label: 12px;
  --font-body: 13px;
  --font-meta: 10.5px;
  --font-total: 14px;
  --font-small: 9px;
  --font-business: 15px;

  /* Additional divider */
  --divider-faint: rgba(0, 0, 0, 0.04);
}

/* ---- Global Reset for Print Precision ---- */
@page {
  size: A4;
  margin: 0;
}

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

h1, h2, h3, h4, h5, h6,
p, ul, ol, dl, blockquote, figure {
  margin: 0;
  padding: 0;
}

/* ---- Body ---- */
body.pdf-document {
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  font-size: var(--font-body);
  line-height: 1.6;
  color: var(--color-body);
  background: white;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  font-feature-settings: "liga" 1;
}

/* ---- Editorial Measure ---- */
.pdf-page-inner {
  max-width: 760px;
  margin: 0 auto;
}

/* ============================================================
   Header: 2-Column Layout (Business Left, Document Right)
   with Client Block Full-Width Below
   ============================================================ */
.pdf-header {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  padding-bottom: var(--space-3);
  margin-bottom: var(--space-4);
  border-bottom: 1px solid var(--divider-light);
}

/* Zone 1: Business */
.pdf-header .header-business {
  flex: 0 0 60%;
  text-align: left;
}

.pdf-header .logo {
  max-height: 48px;
  max-width: 160px;
  margin-bottom: var(--space-1);
  display: block;
}

.pdf-header .header-business h1 {
  font-size: var(--font-business);
  font-weight: 600;
  color: var(--color-heading);
  line-height: 1.25;
  margin-bottom: 4px;
}

.pdf-header .header-business .address {
  font-size: var(--font-meta);
  color: var(--color-meta);
  white-space: pre-line;
  line-height: 1.4;
}

.pdf-header .header-business .email {
  font-size: var(--font-meta);
  color: var(--color-meta);
  margin-top: 2px;
}

/* Zone 2: Document Meta */
.pdf-header .header-document {
  flex: 0 0 40%;
  text-align: right;
  padding-top: 2px;
}

.pdf-header .document-type {
  font-size: var(--font-doc-label);
  font-weight: 700;
  letter-spacing: 0.06em;
  color: var(--color-primary);
  text-transform: uppercase;
  line-height: 1.15;
  margin-bottom: var(--space-1);
}

.pdf-header .document-date {
  font-size: var(--font-meta);
  color: var(--color-meta);
  line-height: 1.4;
}

.pdf-header .expires {
  font-size: var(--font-meta);
  color: var(--color-body);
  margin-top: 2px;
}

/* Zone 3: Client (full-width below) */
.pdf-header .header-client {
  flex: 0 0 100%;
  text-align: left;
}

.pdf-header .header-client h3 {
  font-size: var(--font-meta);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--color-meta);
  margin-bottom: var(--space-1);
}

.pdf-header .header-client p {
  font-size: var(--font-body);
  color: var(--color-body);
  line-height: 1.5;
}

.pdf-header .header-client .client-name {
  font-weight: 600;
  color: var(--color-heading);
}

/* ============================================================
   Document Title
   ============================================================ */
.pdf-title {
  font-size: var(--font-title);
  font-weight: 700;
  color: var(--color-heading);
  line-height: 1.15;
  margin: 0 0 var(--space-4) 0;
}

/* ============================================================
   Content Sections
   ============================================================ */
.pdf-section {
  margin-bottom: var(--space-4);
  page-break-inside: avoid;
  break-inside: avoid;
}

.pdf-section-title {
  font-size: var(--font-label);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--color-heading);
  margin-bottom: var(--space-2);
  padding-bottom: var(--space-1);
  border-bottom: 1px solid var(--divider-light);
  page-break-after: avoid;
  break-after: avoid;
}

.pdf-prose {
  font-size: var(--font-body);
  color: var(--color-body);
  line-height: 1.6;
  white-space: pre-wrap;
  max-width: 620px;
  page-break-inside: auto;
  break-inside: auto;
}

.pdf-prose p {
  margin-bottom: var(--space-1);
}

.pdf-prose p:last-child {
  margin-bottom: 0;
}

/* ============================================================
   Tables — Editorial Financial
   ============================================================ */
.pdf-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: var(--space-2);
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum" 1, "liga" 1;
}

.pdf-table th,
.pdf-table td {
  padding: 10px 0 10px 0;
  padding-right: var(--space-2);
  border-bottom: 1px solid var(--divider-light);
  font-size: var(--font-body);
  vertical-align: top;
}

.pdf-table th {
  font-size: var(--font-meta);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--color-meta);
  text-align: left;
  padding-bottom: var(--space-1);
  border-bottom: 1px solid var(--divider-medium);
  background: transparent;
}

.pdf-table td:last-child,
.pdf-table th:last-child {
  padding-right: 0;
}

.pdf-table tr {
  page-break-inside: avoid;
  break-inside: avoid;
}

/* Total row within table (proposals pricing) */
.pdf-table tr.total-row td {
  font-size: var(--font-total);
  font-weight: 600;
  color: var(--color-primary);
  padding-top: var(--space-2);
  border-bottom: none;
  border-top: 1px solid var(--divider-medium);
}

thead {
  display: table-header-group;
}

.pdf-table .text-right {
  text-align: right;
}

.pdf-table .text-center {
  text-align: center;
}

/* ============================================================
   Totals Block (Invoice)
   ============================================================ */
.pdf-totals {
  margin-top: var(--space-3);
  page-break-before: avoid;
  break-before: avoid;
  page-break-inside: avoid;
  break-inside: avoid;
}

.pdf-totals-row {
  display: flex;
  justify-content: flex-end;
  padding: 6px 0;
  font-size: var(--font-body);
  color: var(--color-body);
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum" 1;
}

.pdf-totals-row .label {
  width: 160px;
  text-align: right;
  padding-right: var(--space-3);
}

.pdf-totals-row .value {
  width: 120px;
  text-align: right;
  font-weight: 500;
}

.pdf-totals-row.total {
  font-size: var(--font-total);
  font-weight: 600;
  color: var(--color-primary);
  padding-top: var(--space-2);
  margin-top: var(--space-1);
  border-top: 1px solid var(--divider-medium);
}

.pdf-totals-row.discount {
  color: var(--color-body);
}

/* ============================================================
   Signature / Status Blocks
   ============================================================ */
.pdf-signature {
  margin-top: var(--space-5);
  padding-top: var(--space-3);
  border-top: 1px solid var(--divider-light);
  page-break-inside: avoid;
  break-inside: avoid;
}

.pdf-signature h2 {
  font-size: var(--font-label);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--color-heading);
  margin-bottom: var(--space-2);
}

.pdf-signature .signature-name {
  display: block;
  font-size: 14pt;
  font-weight: 700;
  color: var(--color-heading);
  margin-bottom: 10px;
}

.pdf-signature p {
  font-size: var(--font-body);
  color: var(--color-body);
  line-height: 1.6;
  margin-bottom: 4px;
}

.pdf-signature p:last-child {
  margin-bottom: 0;
}

/* ============================================================
   Notes
   ============================================================ */
.pdf-notes {
  margin-top: var(--space-4);
  padding-top: var(--space-3);
  border-top: 1px solid var(--divider-light);
  font-size: var(--font-body);
}

.pdf-notes h3 {
  font-size: var(--font-label);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--color-heading);
  margin-bottom: var(--space-1);
}

.pdf-notes p {
  color: var(--color-body);
  line-height: 1.6;
}

/* ============================================================
   Payment Methods
   ============================================================ */
.pdf-payment-methods {
  page-break-inside: avoid;
  break-inside: avoid;
}

.payment-methods-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: var(--space-2);
}

.payment-method-card {
  padding: var(--space-2);
  border: 1px solid var(--divider-light);
}

.payment-method-header {
  font-size: var(--font-body);
  font-weight: 600;
  color: var(--color-heading);
  margin-bottom: var(--space-1);
}

.payment-method-details p {
  font-size: var(--font-meta);
  color: var(--color-body);
  margin-bottom: 2px;
  line-height: 1.5;
}

.payment-method-details p:last-child {
  margin-bottom: 0;
}

.payment-method-details .wallet-address {
  word-break: break-all;
  font-family: "SF Mono", "Fira Code", "Fira Mono", "Roboto Mono", monospace;
  font-size: var(--font-small);
}

/* ============================================================
   Footer
   ============================================================ */
.pdf-footer {
  margin-top: var(--space-5);
  padding-top: var(--space-2);
  border-top: 1px solid var(--divider-light);
  font-size: var(--font-meta);
  color: var(--color-meta);
}

.pdf-footer.free-tier {
  color: var(--color-body);
}

.pdf-footer .powered-by {
  margin-bottom: 2px;
  text-align: center;
}

.pdf-footer .footer-row {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
}

.pdf-footer .footer-left {
  font-size: var(--font-small);
}

.pdf-footer .generated {
  font-size: var(--font-small);
}

/* ============================================================
   Page Break Controls
   ============================================================ */
.page-break-before {
  page-break-before: always;
  break-before: page;
}

.page-break-after {
  page-break-after: always;
  break-after: page;
}

.avoid-break {
  page-break-inside: avoid;
  break-inside: avoid;
}

h2,
.pdf-section-title {
  break-after: avoid;
  page-break-after: avoid;
}

table {
  break-inside: auto;
  page-break-inside: auto;
}

tr {
  break-inside: avoid;
  page-break-inside: avoid;
}

/* Invoice line items: allow break inside (can be long) */
.pdf-line-items {
  page-break-inside: auto;
  break-inside: auto;
}

.pdf-line-items .pdf-table {
  margin-bottom: 0;
}

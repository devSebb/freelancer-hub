<!DOCTYPE html>
<html lang="<%= I18n.locale %>">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= content_for(:title) || "Document" %></title>
  <style>
    <%= begin
          Rails.application.assets["pdf.css"]&.source ||
          File.read(Rails.root.join("app/assets/stylesheets/pdf.css"))
        rescue => e
          Rails.logger.error("Failed to load pdf.css: #{e.message}")
          ""
        end %>
  </style>
  <% if @template_style.present? %>
    <style>
      <%= begin
            Rails.application.assets["pdf/#{@template_style}.css"]&.source ||
            File.read(Rails.root.join("app/assets/stylesheets/pdf/#{@template_style}.css"))
          rescue => e
            Rails.logger.error("Failed to load pdf/#{@template_style}.css: #{e.message}")
            ""
          end %>
    </style>
  <% end %>
</head>
<body class="pdf-document pdf-<%= @template_style %><%= ' pdf-preview' if @preview %>">
  <div class="pdf-page-inner">
    <%= yield %>
  </div>
</body>
</html>
